language: go
go:
  - 1.10.x
  - 1.x

services:
  - memcached

env:
  - MEMCACHED_HOSTS=localhost:11211

before_install:
- '[ "${TRAVIS_PULL_REQUEST}" = "false" ] && openssl aes-256-cbc -K $encrypted_26c593b079d9_key -iv $encrypted_26c593b079d9_iv -in .gitcookies.enc -out .gitcookies -d || true'

install:
  - echo "TRAVIS_GO_VERSION=$TRAVIS_GO_VERSION"
  - dep status -v

script:
- go vet ./...
- go test -v ./...